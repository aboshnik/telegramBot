generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DB_URL")
}

// Модель для таблицы сотрудников из SQL Server
// Таблица может называться смешанно: "Lexema_Кадры_ЛичнаяКарточка" (латинская L + кириллица)
// или на английском: "Lexema_Kadry_LichnayaKartochka"
// Prisma автоматически экранирует кириллицу через квадратные скобки в SQL Server: [Lexema_Кадры_ЛичнаяКарточка]
// 
// ИНСТРУКЦИЯ ПО СМЕНЕ НАЗВАНИЯ ТАБЛИЦЫ:
// Если таблица в базе данных называется смешанно (текущий вариант), используйте:
//   @@map("Lexema_Кадры_ЛичнаяКарточка")
// Если таблица называется на английском, измените на:
//   @@map("Lexema_Kadry_LichnayaKartochka")
model LexemaCard {
  code              Int       @id @map("VCode") // VCode / Код
  lastName          String?   @map("Фамилия") // Фамилия
  firstName         String?   @map("Имя") // Имя
  middleName        String?   @map("Отчество") // Отчество
  tabNumber         String?   @map("ТабельныйНомер") // Табельный номер (как на пропуске)
  terminationDate   DateTime? @map("ДатаУвольнения") // ДатаУвольнения / TerminationDate
  phone             String?   @map("Сотовый") // Сотовый / Phone
  telegramUsername  String?   @map("ТелеграмЮзернейм") // ТелеграмЮзернейм / TelegramUsername
  telegramId        BigInt?   @map("ТелеграмID") // ТелеграмID / TelegramId
  blacklisted       Boolean?  @default(false) @map("ЧерныйСписок") @db.Bit // ЧерныйСписок / Blacklisted

  // АВТОМАТИЧЕСКАЯ ПОДДЕРЖКА ОБОИХ НАЗВАНИЙ:
  // Обертка lexemaCard в src/db.js автоматически определяет правильное название таблицы
  // При первом обращении проверяются оба варианта: русское и английское
  // 
  // Текущий вариант в схеме (смешанное название: латинская L + кириллица):
  @@map("Lexema_Кадры_ЛичнаяКарточка") // Смешанное название
  // Альтернативный вариант (если таблица называется на английском, раскомментируйте и закомментируйте строку выше):
  // @@map("Lexema_Kadry_LichnayaKartochka") // Английское название
  //
  // ВАЖНО: После изменения @@map выполните: npm run prisma:generate
  // Обертка lexemaCard автоматически определит правильное название при первом запросе
}


